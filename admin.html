<meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>NeuroGallery -- Admin</title>
<style>
body{background:#0d0f13;color:#fff;font-family:Inter,Arial,sans-serif;margin:0;padding:20px}
h1{color:#00eaff}
button{background:#00eaff;border:none;padding:8px 15px;margin:5px;border-radius:6px;cursor:pointer;font-weight:600}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}
.card{background:#1a1c20;border-radius:10px;padding:10px;text-align:center}
.card img{width:100%;border-radius:8px}
</style>
</head>
<body>
<h1>NeuroGallery -- Admin</h1>
<p><button id="login">Sign in with Google</button></p>
<div id="grid" class="grid"></div>

<script type="module">
import { db, auth, provider } from './firebase-config.js';
import { getDocs, updateDoc, deleteDoc, doc, collection } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore.js";
import { signInWithPopup } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js";

const ADMIN_EMAIL="ingfin14@gmail.com";
let isAdmin=false;

document.getElementById("login").onclick=async()=>{
  const res=await signInWithPopup(auth,provider);
  if(res.user.email===ADMIN_EMAIL){
    alert("‚úÖ Admin access granted");isAdmin=true;loadImages();
  }else alert("‚ùå Access denied");
};

async function loadImages(){
  const snap=await getDocs(collection(db,"images"));
  const grid=document.getElementById("grid");
  grid.innerHTML="";
  snap.forEach(d=>{
    const data=d.data();
    const div=document.createElement("div");
    div.className="card";
    div.innerHTML=`<img src="${data.url}"><p>${data.title}</p>
                   <button onclick="approve('${d.id}')">Approve</button>
                   <button onclick="del('${d.id}')">Delete</button>`;
    grid.appendChild(div);
  });
}
window.approve=async(id)=>{await updateDoc(doc(db,"images",id),{status:"approved"});alert("‚úÖ Approved");loadImages();};
window.del=async(id)=>{await deleteDoc(doc(db,"images",id));alert("üóëÔ∏è Deleted");loadImages();};
</script>
</body>
</html><script>// ==========================
// üî• Firebase Config for NeuroGallery
// ==========================

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
import { 
  getFirestore, collection, addDoc, getDocs, updateDoc, deleteDoc, doc, serverTimestamp 
} from "https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore.js";
import { 
  getStorage, ref, uploadBytes, getDownloadURL, deleteObject 
} from "https://www.gstatic.com/firebasejs/10.13.1/firebase-storage.js";
import { 
  getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged 
} from "https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyCK-o9vIFlrlySSyfamIf9bzL3BqNGIq3o",
  authDomain: "neurogaller.firebaseapp.com",
  projectId: "neurogaller",
  storageBucket: "neurogaller.appspot.com",
  messagingSenderId: "353726562637",
  appId: "1:353726562637:web:8b2a53a1081b43a3cdb704",
  measurementId: "G-2VW3RB5320"
};

export const app = initializeApp(firebaseConfig);
export const db = getFirestore(app);
export const storage = getStorage(app);
export const auth = getAuth(app);
export const provider = new GoogleAuthProvider();

console.log("‚úÖ Firebase initialized successfully");</script>