<meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>NeuroGallery</title>
<style>
body{margin:0;background:#0d0f13;color:#f2f2f2;font-family:Inter,Arial,sans-serif}
header{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;background:rgba(10,11,15,.95);position:sticky;top:0;z-index:10}
.logo{color:#00eaff;font-weight:700;font-size:1.4em}
nav a,nav button{color:#00eaff;background:none;border:none;font-size:1em;font-weight:600;margin-left:15px;cursor:pointer;transition:.3s}
nav a:hover,nav button:hover{color:#ffd166}
main{padding:20px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}
.card{background:#181a20;border-radius:10px;overflow:hidden;text-align:center;box-shadow:0 2px 10px rgba(0,0,0,.4)}
.card img{width:100%;display:block}
.btn{background:#00eaff;border:none;color:#000;padding:8px 15px;font-weight:600;border-radius:6px;cursor:pointer}
footer{text-align:center;padding:30px 10px;font-size:.9em;color:#ccc}
</style>
</head>
<body>
<header>
  <div class="logo">NeuroGallery</div>
  <nav>
    <a href="#" id="aboutBtn">About</a>
    <button id="uploadBtn">Upload</button>
    <button id="loginBtn">Login with Google</button>
    <a href="admin.html">Admin</a>
  </nav>
</header>
<main>
  <h2>Newest Uploads</h2>
  <div id="gallery" class="grid"></div>
</main>
<footer>
  All images are AI-generated. Free for personal use.<br>Â© NeuroGallery
</footer>

<script type="module">
import { db, storage, auth, provider } from './firebase-config.js';
import { getDocs, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore.js";
import { ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-storage.js";
import { signInWithPopup } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js";

const gallery=document.getElementById('gallery');

async function loadImages(){
  gallery.innerHTML="<p>Loading...</p>";
  const snap=await getDocs(collection(db,"images"));
  gallery.innerHTML="";
  snap.forEach(doc=>{
    const data=doc.data();
    if(data.status==="approved"){
      const div=document.createElement("div");
      div.className="card";
      div.innerHTML=`<img src="${data.url}" alt="${data.title}">
                     <p>${data.title||"Untitled"}</p>`;
      gallery.appendChild(div);
    }
  });
}
loadImages();

document.getElementById("loginBtn").onclick=async()=>{
  try{await signInWithPopup(auth,provider);alert("âœ… Logged in successfully!");}
  catch(e){alert("Login failed: "+e.message);}
};

document.getElementById("uploadBtn").onclick=async()=>{
  const f=document.createElement("input");
  f.type="file";f.accept="image/*";
  f.onchange=async(e)=>{
    const file=e.target.files[0];
    if(!file)return;
    const sRef=ref(storage,'uploads/'+file.name);
    await uploadBytes(sRef,file);
    const url=await getDownloadURL(sRef);
    await addDoc(collection(db,"images"),{title:file.name,url,status:"pending",createdAt:serverTimestamp()});
    alert("âœ… Uploaded (pending approval).");
  };
  f.click();
};
</script>
</body>
</html><script>// ==========================
// ðŸ”¥ Firebase Config for NeuroGallery
// ==========================

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
import { 
  getFirestore, collection, addDoc, getDocs, updateDoc, deleteDoc, doc, serverTimestamp 
} from "https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore.js";
import { 
  getStorage, ref, uploadBytes, getDownloadURL, deleteObject 
} from "https://www.gstatic.com/firebasejs/10.13.1/firebase-storage.js";
import { 
  getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged 
} from "https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyCK-o9vIFlrlySSyfamIf9bzL3BqNGIq3o",
  authDomain: "neurogaller.firebaseapp.com",
  projectId: "neurogaller",
  storageBucket: "neurogaller.appspot.com",
  messagingSenderId: "353726562637",
  appId: "1:353726562637:web:8b2a53a1081b43a3cdb704",
  measurementId: "G-2VW3RB5320"
};

export const app = initializeApp(firebaseConfig);
export const db = getFirestore(app);
export const storage = getStorage(app);
export const auth = getAuth(app);
export const provider = new GoogleAuthProvider();

console.log("âœ… Firebase initialized successfully");</script>